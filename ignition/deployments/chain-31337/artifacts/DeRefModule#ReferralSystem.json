{
  "_format": "hh-sol-artifact-1",
  "contractName": "ReferralSystem",
  "sourceName": "contracts/ReferralSystem.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "zkVerifier",
          "type": "address"
        },
        {
          "internalType": "contract IWorldID",
          "name": "_worldId",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_appId",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_actionId",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidNullifier",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "referrer",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "referee",
          "type": "uint256"
        }
      ],
      "name": "Referral",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "referrer",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RewardDistributed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "RewardWithdrew",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        }
      ],
      "name": "getTotalRewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "signal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "worldCoinProof",
          "type": "uint256[8]"
        },
        {
          "internalType": "bytes32[]",
          "name": "_publicInputs",
          "type": "bytes32[]"
        },
        {
          "internalType": "bytes",
          "name": "_proof",
          "type": "bytes"
        }
      ],
      "name": "refer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "referrals",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "rewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "tokenAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "signal",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "root",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nullifierHash",
          "type": "uint256"
        },
        {
          "internalType": "uint256[8]",
          "name": "proof",
          "type": "uint256[8]"
        }
      ],
      "name": "withdraw",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60e0604052600160c0523480156200001657600080fd5b5060405162000f0f38038062000f0f8339810160408190526200003991620001df565b600080546001600160a01b038088166001600160a01b0319928316179092556001805487841692169190911790558316608052604051620000b3906200009f90620000899085906020016200028a565b60408051601f19818403018152919052620000c2565b8260405160200162000089929190620002a8565b60a05250620002d09350505050565b6000600882604051602001620000d991906200028a565b60408051601f198184030181529190528051602090910120901c92915050565b6001600160a01b03811681146200010f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620001455781810151838201526020016200012b565b50506000910152565b600082601f8301126200016057600080fd5b81516001600160401b03808211156200017d576200017d62000112565b604051601f8301601f19908116603f01168101908282118183101715620001a857620001a862000112565b81604052838152866020858801011115620001c257600080fd5b620001d584602083016020890162000128565b9695505050505050565b600080600080600060a08688031215620001f857600080fd5b85516200020581620000f9565b60208701519095506200021881620000f9565b60408701519094506200022b81620000f9565b60608701519093506001600160401b03808211156200024957600080fd5b6200025789838a016200014e565b935060808801519150808211156200026e57600080fd5b506200027d888289016200014e565b9150509295509295909350565b600082516200029e81846020870162000128565b9190910192915050565b82815260008251620002c281602085016020870162000128565b919091016020019392505050565b60805160a05160c051610bfa620003156000396000818161018901526105790152600081816101fe01526105b101526000818161014c015261053c0152610bfa6000f3fe608060405234801561001057600080fd5b50600436106100725760003560e01c8063ea0c5b5211610050578063ea0c5b5214610104578063f07cfa3b14610117578063f301af421461012a57600080fd5b8063552164ee146100775780639d76ea58146100aa578063cc7f9345146100ef575b600080fd5b610097610085366004610830565b60009081526004602052604090205490565b6040519081526020015b60405180910390f35b6000546100ca9073ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100a1565b6101026100fd36600461085b565b61014a565b005b6100976101123660046108be565b61037b565b610102610125366004610929565b6103ac565b610097610138366004610830565b60046020526000908152604090205481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006101fb886040516020016101e7919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040526106d7565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b815260040161023f969594939291906109fb565b60006040518083038186803b15801561025757600080fd5b505afa15801561026b573d6000803e3d6000fd5b5050506000838152600460208190526040808320805490849055925490517fa9059cbb00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8981169382019390935260248101849052929350169063a9059cbb906044016020604051808303816000875af11580156102ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103239190610a33565b508473ffffffffffffffffffffffffffffffffffffffff167f4b22f7597a4faf34dd562c6535576ec14fe908ebbffe944267f71d91919e088d8260405161036c91815260200190565b60405180910390a25050505050565b6002602052816000526040600020818154811061039757600080fd5b90600052602060002001600091509150505481565b6001546040517fea50d0e400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff9091169063ea50d0e490610408908590859089908990600401610a5c565b602060405180830381865afa158015610425573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104499190610a33565b6104b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f5265666572616c206e6f742076616c696400000000000000000000000000000060448201526064015b60405180910390fd5b60008681526003602090815260408083208b8452909152902054889060ff161561053a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f7265666572656420616c7265616479000000000000000000000000000000000060448201526064016104ab565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3897f00000000000000000000000000000000000000000000000000000000000000006105ae8d6040516020016101e791815260200190565b8b7f00000000000000000000000000000000000000000000000000000000000000008c6040518763ffffffff1660e01b81526004016105f2969594939291906109fb565b60006040518083038186803b15801561060a57600080fd5b505afa15801561061e573d6000803e3d6000fd5b5050506000888152600360209081526040808320858452909152902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790555061066f81606461070c565b600061067c82601e610768565b9050801561069e5761069988610694601e6064610b08565b61070c565b6106a9565b6106a988606461070c565b5060009687526002602090815260408820805460018101825590895297209096019590955550505050505050565b60006008826040516020016106ec9190610b1b565b60408051601f198184030181529190528051602090910120901c92915050565b6000828152600460205260408120805483929061072a908490610b4a565b909155505060405181815282907feaf3d57629d9b1ce95715ccd98d6f5bf48023be1d5a06e09f64ab7f6d8be01d59060200160405180910390a25050565b60008281526002602052604081205481036107855750600061082a565b6000838152600260209081526040808320805482518185028101850190935280835291929091908301828280156107db57602002820191906000526020600020905b8154815260200190600101908083116107c7575b5050505050905060005b81518110156108235761081182828151811061080357610803610b5d565b60200260200101518561070c565b8061081b81610b8c565b9150506107e5565b5060019150505b92915050565b60006020828403121561084257600080fd5b5035919050565b80610100810183101561082a57600080fd5b600080600080610160858703121561087257600080fd5b843573ffffffffffffffffffffffffffffffffffffffff8116811461089657600080fd5b935060208501359250604085013591506108b38660608701610849565b905092959194509250565b600080604083850312156108d157600080fd5b50508035926020909101359150565b60008083601f8401126108f257600080fd5b50813567ffffffffffffffff81111561090a57600080fd5b60208301915083602082850101111561092257600080fd5b9250929050565b6000806000806000806000806101a0898b03121561094657600080fd5b8835975060208901359650604089013595506109658a60608b01610849565b945061016089013567ffffffffffffffff8082111561098357600080fd5b818b0191508b601f83011261099757600080fd5b8135818111156109a657600080fd5b8c60208260051b85010111156109bb57600080fd5b602083019650809550506101808b01359150808211156109da57600080fd5b506109e78b828c016108e0565b999c989b5096995094979396929594505050565b60006101a0820190508782528660208301528560408301528460608301528360808301526101008360a0840137979650505050505050565b600060208284031215610a4557600080fd5b81518015158114610a5557600080fd5b9392505050565b60408152836040820152838560608301376000606085830101526000601f19601f860116820160608382030160208401528360608201527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841115610ac057600080fd5b8360051b80866080840137016080019695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b8181038181111561082a5761082a610ad9565b6000825160005b81811015610b3c5760208186018101518583015201610b22565b506000920191825250919050565b8082018082111561082a5761082a610ad9565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610bbd57610bbd610ad9565b506001019056fea2646970667358221220dc8073782d375eec00b569f2388090dff1528aa27534e2b9aa6b23ea6a7814d364736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100725760003560e01c8063ea0c5b5211610050578063ea0c5b5214610104578063f07cfa3b14610117578063f301af421461012a57600080fd5b8063552164ee146100775780639d76ea58146100aa578063cc7f9345146100ef575b600080fd5b610097610085366004610830565b60009081526004602052604090205490565b6040519081526020015b60405180910390f35b6000546100ca9073ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100a1565b6101026100fd36600461085b565b61014a565b005b6100976101123660046108be565b61037b565b610102610125366004610929565b6103ac565b610097610138366004610830565b60046020526000908152604090205481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3847f00000000000000000000000000000000000000000000000000000000000000006101fb886040516020016101e7919060609190911b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016815260140190565b6040516020818303038152906040526106d7565b867f0000000000000000000000000000000000000000000000000000000000000000876040518763ffffffff1660e01b815260040161023f969594939291906109fb565b60006040518083038186803b15801561025757600080fd5b505afa15801561026b573d6000803e3d6000fd5b5050506000838152600460208190526040808320805490849055925490517fa9059cbb00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8981169382019390935260248101849052929350169063a9059cbb906044016020604051808303816000875af11580156102ff573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103239190610a33565b508473ffffffffffffffffffffffffffffffffffffffff167f4b22f7597a4faf34dd562c6535576ec14fe908ebbffe944267f71d91919e088d8260405161036c91815260200190565b60405180910390a25050505050565b6002602052816000526040600020818154811061039757600080fd5b90600052602060002001600091509150505481565b6001546040517fea50d0e400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff9091169063ea50d0e490610408908590859089908990600401610a5c565b602060405180830381865afa158015610425573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104499190610a33565b6104b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f5265666572616c206e6f742076616c696400000000000000000000000000000060448201526064015b60405180910390fd5b60008681526003602090815260408083208b8452909152902054889060ff161561053a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f7265666572656420616c7265616479000000000000000000000000000000000060448201526064016104ab565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633bc778e3897f00000000000000000000000000000000000000000000000000000000000000006105ae8d6040516020016101e791815260200190565b8b7f00000000000000000000000000000000000000000000000000000000000000008c6040518763ffffffff1660e01b81526004016105f2969594939291906109fb565b60006040518083038186803b15801561060a57600080fd5b505afa15801561061e573d6000803e3d6000fd5b5050506000888152600360209081526040808320858452909152902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790555061066f81606461070c565b600061067c82601e610768565b9050801561069e5761069988610694601e6064610b08565b61070c565b6106a9565b6106a988606461070c565b5060009687526002602090815260408820805460018101825590895297209096019590955550505050505050565b60006008826040516020016106ec9190610b1b565b60408051601f198184030181529190528051602090910120901c92915050565b6000828152600460205260408120805483929061072a908490610b4a565b909155505060405181815282907feaf3d57629d9b1ce95715ccd98d6f5bf48023be1d5a06e09f64ab7f6d8be01d59060200160405180910390a25050565b60008281526002602052604081205481036107855750600061082a565b6000838152600260209081526040808320805482518185028101850190935280835291929091908301828280156107db57602002820191906000526020600020905b8154815260200190600101908083116107c7575b5050505050905060005b81518110156108235761081182828151811061080357610803610b5d565b60200260200101518561070c565b8061081b81610b8c565b9150506107e5565b5060019150505b92915050565b60006020828403121561084257600080fd5b5035919050565b80610100810183101561082a57600080fd5b600080600080610160858703121561087257600080fd5b843573ffffffffffffffffffffffffffffffffffffffff8116811461089657600080fd5b935060208501359250604085013591506108b38660608701610849565b905092959194509250565b600080604083850312156108d157600080fd5b50508035926020909101359150565b60008083601f8401126108f257600080fd5b50813567ffffffffffffffff81111561090a57600080fd5b60208301915083602082850101111561092257600080fd5b9250929050565b6000806000806000806000806101a0898b03121561094657600080fd5b8835975060208901359650604089013595506109658a60608b01610849565b945061016089013567ffffffffffffffff8082111561098357600080fd5b818b0191508b601f83011261099757600080fd5b8135818111156109a657600080fd5b8c60208260051b85010111156109bb57600080fd5b602083019650809550506101808b01359150808211156109da57600080fd5b506109e78b828c016108e0565b999c989b5096995094979396929594505050565b60006101a0820190508782528660208301528560408301528460608301528360808301526101008360a0840137979650505050505050565b600060208284031215610a4557600080fd5b81518015158114610a5557600080fd5b9392505050565b60408152836040820152838560608301376000606085830101526000601f19601f860116820160608382030160208401528360608201527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841115610ac057600080fd5b8360051b80866080840137016080019695505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b8181038181111561082a5761082a610ad9565b6000825160005b81811015610b3c5760208186018101518583015201610b22565b506000920191825250919050565b8082018082111561082a5761082a610ad9565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610bbd57610bbd610ad9565b506001019056fea2646970667358221220dc8073782d375eec00b569f2388090dff1528aa27534e2b9aa6b23ea6a7814d364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}